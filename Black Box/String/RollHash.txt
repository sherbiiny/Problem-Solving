using ull = unsigned long long;
const ull B = 0xc6a4a7935bd1e995ULL;
const int N = 1e6 + 10;
ull pw[N];
 
void pre() {
    pw[0] = 1;
    for(int i = 1; i < N; i++) pw[i]=pw[i-1]*B;
}
 
struct RollHash {
    vector<ull> H;
    RollHash() {}
    RollHash(string &s): H(size(s) + 1) {
        for(int i = 0; i < size(s); i++)
            H[i+1] = H[i] * B ^ ull(s[i] - 'a' + 1);
    }
 
    ull get(int L, int R){ return H[R+1] ^ H[L] * pw[R-L+1]; }
};